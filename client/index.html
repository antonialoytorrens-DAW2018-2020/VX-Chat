<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en-GB">

<meta charset="utf-8">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!--FONT AWESOME-->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css"
    integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
  <!--JQUERY-->
  <script src="./jquery/jquery.min.js"></script>
  <!-- Bootstrap -->
  <link href="bs/css/bootstrap.min.css" rel="stylesheet">
  <!--<script src="bs/css/bootstrap.min.js"></script>-->
  <!-- css -->
  <link href="./css/dropdown.css" rel="stylesheet">
  <link href="./css/login.css" rel="stylesheet">
  <link href="./css/principal.css" rel="stylesheet">
  <!--Funcions-->
  <script src="./js/funcions.js"></script>
  <script src="./js/dropdown.js"></script>
  <!--Graphic-->
  <script src="./chart/chart-2.9.3.min.js"></script>
  <script src="./js/graphic.js"></script>
  <!-- Codi ajax -->
  <script src="./js/vxchat.js"></script>
  <title>VX-Chat</title>
</head>

<body>
  <input id="codiusuari" type="hidden" value="-1">
  <input id="token" type="hidden" value="">
  <input id="nom_usuari" type="hidden" value="">
  <input id="email_usuari" type="hidden" value="">

  <!--MENU-->

  <nav class="navbar navbar-light bg-light fixed-top d-flex">
    <div class="navbar-brand font-weight-bold w-100 d-flex flex-content align-items-center">
      <img src="./img/vx-chat.png" class="img-responsive img-fluid" alt=""
        longdesc="This is the company logo of VX-Chat. It has the main characters (VX) of the company, with mixed red and black colors.">
      <div class="d-flex flex-content w-100 justify-content-end" id="logindiv">
        <nav role="presentation" aria-label="Main Navigation" id="flyoutnavkbbtn">
          <ul class="d-flex flex-content" style="background-color: white;">
            <li id="dropdown-content" class="has-submenu">
              <a aria-haspopup="true" aria-expanded="true" id="nomusuari"
                class="d-flex flex-content justify-content-end"></a>
              <ul style="background-color: white; border: 1px solid #007bff; border-radius: 0.25rem !important;">
                <li class="text-right"><button id="btperfil" class="btn-link">Profile</button></li>
                <li class="text-right"><button id="btchat" class="btn-link">View chat</button></li>
                <li class="text-right"><button id="btgraphic" class="btn-link">View graphic</button></li>
                <li class="text-right"><button id="logout" class="btn-link">Logout</button></li>
              </ul>
            </li>
          </ul>
        </nav>
      </div>
    </div>
  </nav>

  <!--MODAL-->
  <div id="modal" class="d-flex w-100 fixed-top justify-content-center">
    <div class="row d-flex flex-content bg-warning p-3" style="border: 1px solid black; width: 40% !important;">
      <div class="col">
        <h6 class="font-weight-bold text-center" id="note_message"></h6>
      </div>
    </div>
  </div>

  <div id="general" class="container d-flex w-100 h-100" style="display:block !important; position: relative;">

    <!--SIGN IN-->

    <div class="container" id="pswdiv">
      <div class="d-flex justify-content-center h-100" id="container-content">
        <div class="card overflow-hidden" style="display: -webkit-box;">
          <div class="card-header">
            <h3>Sign In</h3>
          </div>
          <div class="card-body">
            <div class="input-group form-group">
              <div class="input-group-prepend">
                <span class="input-group-text"><em class="fas fa-user" aria-hidden="true"></em></span>
              </div>
              <input title="Email" type="text" id="nom" title="Email" name="NOM" class="form-control" placeholder="Email">
            </div>
            <div class="input-group form-group">
              <div class="input-group-prepend">
                <span class="input-group-text"><em class="fas fa-key" aria-hidden="true"></em></span>
              </div>
              <input title="Password" type="password" id="psw" title="Password" name="PSW" class="form-control" placeholder="Password">
            </div>
            <div class="form-group">
              <input title="Login" type="submit" value="Login" id="btlogin" class="btn float-right login_btn red-focus-within">
            </div>
          </div>
          <div class="card-footer">
            <div class="d-flex justify-content-center links">
              Don't have an account? <button id="register" class="btn-link">Sign Up</button>
            </div>
            <div class="d-flex justify-content-center">
              <div id="errorlogindiv">Error: User or password is wrong.</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!--SIGN UP-->

    <div class="container" id="pswregistre">
      <div class="d-flex justify-content-center h-100">
        <div class="card" style="display: -webkit-box;">
          <div class="card-header">
            <h3>Sign Up</h3>
          </div>
          <div class="card-body">
            <div class="input-group form-group">
              <div class="input-group-prepend">
                <span class="input-group-text"><em class="fas fa-user" aria-hidden="true"></em></span>
              </div>
              <input title="Username" type="text" id="nom-registre" title="Username" name="NOM-REGISTRE" class="form-control"
                placeholder="Username">
            </div>
            <div class="input-group form-group">
              <div class="input-group-prepend">
                <span class="input-group-text"><em class="fas fa-envelope" aria-hidden="true"></em></span>
              </div>
              <input title="Email" type="text" id="email-registre" title="Email" name="EMAIL-REGISTRE" class="form-control"
                placeholder="Email">
            </div>
            <div class="input-group form-group">
              <div class="input-group-prepend">
                <span class="input-group-text"><em class="fas fa-key" aria-hidden="true"></em></span>
              </div>
              <input title="Password" type="password" title="Password" id="psw-registre" name="PSW-REGISTRE" class="form-control"
                placeholder="Password">
              <input title="Repeat Password" type="password" title="Repeat Password" id="psw-registre2" name="PSW-REGISTRE2"
                class="form-control" placeholder="Repeat Password">
            </div>
            <div class="form-group">
              <input title="Sign Up" type="submit" value="Sign Up" id="btRegistre" class="btn float-right login_btn red-focus-within">
            </div>
          </div>
          <div class="card-footer">
            <div class="d-flex justify-content-center links">
              Already have an account? <button id="signin" class="btn-link">Sign In</button>
            </div>
            <div class="d-flex justify-content-center links">
              <div id="errorUsuariRegistreDiv">Error: Username or email cannot be blank.</div>
            </div>
            <div class="d-flex justify-content-center links">
              <div id="errorContrasenyaRegistreDiv">Error: Wrong password.</div>
            </div>
            <div class="d-flex justify-content-center links">
              <div id="errorUsuariRegistreDiv2">Error: Email is duplicated.</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!--MESSAGE LIST-->

    <div id="chatdiv" class="container d-flex justify-content-center overflow-auto" style="align-items: center;">
      <div class="card d-flex flex-content w-100">
        <div class="card-header">
          <h3>Chat</h3>
        </div>
        <div class="card-body" id="error-message-container">
          <div id="error-message"></div>
        </div>
        <div class="card-body">
          <div class="input-group d-flex flex-content form-group">
            <div id="spin" class="d-flex w-100 justify-content-center">
              <img id="volta" class="img-responsive img-center" src="./img/loading.gif" alt=""
                longdesc="A spinner appears when the messages are loading.">
            </div>
            <ul class="list-group w-100" id="missatges">
            </ul>
          </div>
        </div>
        <div class="card-footer">
        </div>
        <div class="card-body">
          <div class="buit" style="height: 10rem;">
          </div>
        </div>
      </div>
    </div>

    <!--PROFILE-->

    <div class="container" class="container d-flex justify-content-center" style="align-items: center;" id="perfildiv">
      <div class="d-flex justify-content-center h-100" id="container-content">
        <div class="card" style="display: -webkit-box;">
          <div class="card-header">
            <h3>Profile</h3>
          </div>
          <div class="card-body">
            <div class="input-group form-group">
              <div class="input-group-prepend">
                <span class="input-group-text"><em class="fas fa-user" aria-hidden="true"></em></span>
              </div>
              <input title="Name" type="text" title="Profile Name" class="form-control" id="perfilnom" name="PERFILNOM"
                placeholder="Name">
            </div>
            <div class="input-group form-group">
              <div class="input-group-prepend">
                <span class="input-group-text"><em class="fas fa-envelope" aria-hidden="true"></em></span>
              </div>
              <input title="Email" type="text" title="Profile Email" class="form-control" id="perfilemail" name="PERFILEMAIL"
                placeholder="Email">
            </div>
            <div class="input-group form-group">
              <div class="input-group-prepend">
                <span class="input-group-text"><em class="fas fa-key" aria-hidden="true"></em></span>
              </div>
              <input title="Password" type="password" title="Profile Password" class="form-control" id="perfilpsw" name="PERFILPSW"
                placeholder="Password">
            </div>
            <div class="d-flex flex-content justify-content-end">
              <div class="input-group-prepend m-2 d-flex flex-content justify-content-end">
                <input title="Cancel" type="button" id="btperfilcancela" class="btn btn-danger mr-2 red-focus-within" value="Cancel">
                <input title="Save" type="button" id="btperfilguarda" class="btn btn-primary red-focus-within" value="Save">
              </div>
            </div>
          </div>
          <!--div class="input-group form-group">
          <div class="input-group-prepend">
            <span class="input-group-text"><em class="fas fa-key" aria-hidden="true"></em></span>
          </div>
          <input type="file" class="form-control" id="perfilfoto" name="PERFILFOTO">
        </div>-->
          <div class="card-footer">
            <div class="d-flex justify-content-center">
              <div id="errormodperfil">Error: User or password is wrong.</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!--GRAPHIC-->

    <div class="container" id="graphicdiv" style="display: flex;">
      <div class="d-flex flex-content justify-content-center w-100 h-100" id="container-content">
        <div class="card w-75 flex-content d-flex justify-content-center" style="display: -webkit-box;">
          <div class="card-header">
            <h3>User posts</h3>
          </div>
          <div class="card-body">
            <div class="input-group form-group d-flex justify-content-center">
              <div class="w-100 h-100 d-flex justify-content-center">
                <canvas id="graphic"></canvas>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>

  <!-- Footer -->
  <footer class="page-footer font-small special-color-dark pt-4 fixed-bottom bg-light" style="z-index: 1030; ">
    <!-- Copyright -->
    <div class="footer-copyright text-center py-3">
      <div class="input-group">
        <select class="form-control mb-2" title="Voice for audio chat" id="voiceOptions" tabindex="2"></select>
      </div>
      <div class="input-group form-group w-100 justify-content-center" id="message-container">
        <div class="w-50 justify-content-center">
          <textarea title="Write a message" class="form-control float-left" rows="2" cols="100" id="noumissatge"
            placeholder="Message..."></textarea>
        </div>
        <div class="justify-content-center">
          <input type="button" id="btnoumsg"
            class="btn btn-yellow border border-dark btn-lg active align-middle red-focus-within"
            aria-label="Send message" title="Send message" value="+" style="height: 100%">
        </div>
      </div>
      © 2020 Antoni Aloy Torrens
      <a id="language-selection" href="../client_es/index.html">Change language to Spanish</a>
      <p class="font-weight-bold">The International Chat for Everyone</p>
    </div>
    </div>
    <!-- Copyright -->

  </footer>
  <!-- Footer -->
</body>
<!--Speech Converter-->
<script src="./js/speechConverter.js"></script>
<noscript>JavaScript needs to be enabled to run this site!</noscript>

</html>